PROJECT SUMMARY â€“ VitalProcessor4 Optimizations

Aquest fitxer descriu les principals millores implementades en la nova versiÃ³ de `vital_processor4.py` per optimitzar el processament de dades fisiolÃ²giques en format `.vital`. 

ðŸ”¹ OBJECTIU GENERAL
Reduir el temps d'execuciÃ³ i el consum de memÃ²ria durant el processament de senyals (wave mode) i dades tabulars (tabular mode), mantenint compatibilitat amb el flux de treball existent.

ðŸ”¹ MILLORAMENTS CLAUS
1. **CÃ rrega selectiva de dades**  
   NomÃ©s es carreguen les pistes (tracks) necessÃ ries per als models de senyals, evitant llegir tot el fitxer `.vital` a memÃ²ria.

2. **Ãšs de Polars per a DataFrames**  
   SubstituciÃ³ de Pandas per Polars, que permet cÃ lculs vectoritzats i joins molt mÃ©s rÃ pids, reduint el temps de fusiÃ³ de dades i prediccions.

3. **Escriptura incremental a CSV**  
   Els resultats es guarden incrementalment en lloc de reescriure tot el fitxer cada vegada. AixÃ² redueix significativament l'I/O de disc i permet processament continu o en temps real.

4. **Processament en chunks (fragments)**  
   Les senyals llargues es processen per intervals de temps predefinits per controlar l'Ãºs de memÃ²ria i aprofitar el paralÂ·lelisme amb `ThreadPoolExecutor`.

5. **MemÃ²ria cau de dades (cache)**  
   Les senyals carregades es mantenen en memÃ²ria per evitar lectures repetides del mateix fitxer.

6. **SincronitzaciÃ³ d'estat**  
   Es desa un fitxer `state_wave.json` amb el darrer temps processat per a cada fitxer `.vital` per evitar recomputaciÃ³ i permetre processament incremental.

7. **Control d'errors i traÃ§a millorat**  
   Afegits missatges `[TRACE]`, `[DEBUG]`, `[WARN]`, `[INFO]` i `[ERROR]` per a un seguiment mÃ©s clar del flux de processament i diagnosi dâ€™errors.

ðŸ”¹ RESULTATS
Aquestes optimitzacions redueixen el temps de processament inicial, permeten reanudar execucions sense repetir cÃ lculs i faciliten lâ€™Ãºs en entorns de simulaciÃ³ de streaming.

Per contra, per alguna raÃ³ no troba dades dins els fitxers .vital ==> REVISAR
